+++
date = "2016-04-07T10:30:57+01:00"
title = "Instalacion de grafana, influxdb y collectd"
tags = ['arch','monitorizacion','grafana','influxdb','collectd']
slug = "collectd-influxdb-grafana-en-archlinux"
keywords = ['arch','monitorizacion','grafana','influxdb','collectd']
description = "Como montar un sistema de metricas con grafana influxdb y collectd en tu servidor casero"
series = ["Servidor casero con Arch Linux"]
weight = 3
draft = true
+++


# Sacando graficas de todo en tu red casera
Hoy vamos a montar el sistema de metricas para nuestro servidor casero, la arquitectura sera la siguiente:
1. Una base de datos especial para series temporales llamada [influxdb](https://www.influxdata.com/time-series-platform/influxdb/)
2. Un frontend para pintar las graficas llamado [grafana](http://grafana.org/)
3. Un ligero demonio en cada sistema de nuestra red (incluido nuestro servidor) para sacar los datos y mandarlos a la db, llamado [collectd](https://collectd.org/)

Vamos a ver la instalacion y configuracion de cada uno de los programas.

## influxdb
Influxdb es otra base de datos mas, enfocada en almacenar datos en timeseries, esta escrita en Go y es de codigo abierto. La uso para almacenar las tipicas metricas del servidor y pintarlas en graficas tipo munin, pero espero algun dia experimentar mas con ella ahora que esta en la version v1.0. Quiza algun benchmark de alguna variable de meteo en postgresql vs influxdb o algo asi.

Esto quiere decir que no vale solo para pintar la ram de nuestro ordenador, esta db tiene de serie una API HTTP donde con una sola request podemos enviarle datos. Asi que enviar un numero desde cualquier programa bastaria con ponerle un GET a ese programa enviando el dato.

```bash
yaourt -S influxdb
```

Editamos `/etc/influxdb/influxdb.conf`

## grafana
```bash
sudo pacman -S grafana
```


## collectd
```bash
sudo pacman -S collectd
```
